<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clinic Search Results</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/search.css' %}">
</head>

<header>
    <nav>
        <a href="{% url 'home' %}">Home</a>
    </nav>
</header>

<body>

    <div class="results-container" id="results-container">
        {% if results %}
        {% for vet in results %}
        <div class="clinic">
            <div class="clinic-name">{{ vet.name }}</div>
            <div class="clinic-address">{{ vet.street }}, {{ vet.city }}, {{ vet.PLZ }}</div>
            <div class="clinic-state">{{ vet.state }}</div>
            <div class="clinic-phone">{{ vet.phone_number }}</div>
            {% if vet.email %}
            <div class="clinic-email">{{ vet.email }}</div>
            {% endif %}

        </div>
        {% endfor %}
        {% else %}
        <p>No clinics found.</p>
        {% endif %}
    </div>
    <!-- <script>
        const clinics = [
            { name: "Hammerschmidt", address: "Innere Simbacher Str. 21, 84347 Pfarrkirchen", phone: "0856171122", distance: "2.3 miles" },
            { name: "Dr.med.vet. Alfred Scheider Tierarzt", address: "", phone: "(987) 654-3210", distance: "4.8 miles" },
            { name: "Whiskers & Paws Clinic", address: "789 Pet Blvd, Animal Ville", phone: "(555) 123-4567", distance: "7.1 miles" }
        ];

        function getQueryParam(param) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(param);
        }

        function searchClinics() {
            const searchValue = getQueryParam('search').toLowerCase();
            const resultsContainer = document.getElementById('results-container');
            resultsContainer.innerHTML = '';

            const filteredClinics = clinics.filter(clinic =>
                clinic.name.toLowerCase().includes(searchValue) ||
                clinic.address.toLowerCase().includes(searchValue)
            );

            if (filteredClinics.length === 0) {
                resultsContainer.innerHTML = '<p>No clinics found.</p>';
            } else {
                filteredClinics.forEach(clinic => {
                    const clinicElement = document.createElement('div');
                    clinicElement.classList.add('clinic');
                    clinicElement.innerHTML = `
                        <div class="clinic-name">${clinic.name}</div>
                        <div class="clinic-address">${clinic.address}</div>
                        <div class="clinic-phone">${clinic.phone}</div>
                        <div class="clinic-distance">${clinic.distance}</div>
                        <button class="book-button">Book Appointment</button>
                    `;
                    resultsContainer.appendChild(clinicElement);
                });
            }
        }

        document.addEventListener('DOMContentLoaded', searchClinics);
    </script> -->
</body>

</html>
